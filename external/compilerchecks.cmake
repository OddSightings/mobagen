#CHECK MINGW
IF(NOT DEFINED MINGW)
    SET(MINGW OFF)
ENDIF()

# check if mingw
IF("${CMAKE_GENERATOR}" MATCHES "(M|m?)in(G|g?)(W|w?)")
    SET(MINGW ON)
    MESSAGE(STATUS "MinGW Detected")
    MESSAGE(STATUS "${CMAKE_GENERATOR}")
ELSE()
    SET(MINGW OFF CACHE BOOL "MINGW")
ENDIF()

# CHECK OR APPLE MACHINE
IF(NOT DEFINED APPLE)
    set(APPLE OFF)
    MESSAGE(STATUS "NOT APPLE MACHINE")
ENDIF()

find_program(LSB_RELEASE_EXEC lsb_release)
if(LSB_RELEASE_EXEC)
    execute_process(COMMAND ${LSB_RELEASE_EXEC} -is
            OUTPUT_VARIABLE LSB_RELEASE_ID_SHORT
            OUTPUT_STRIP_TRAILING_WHITESPACE
            )
    IF(LSB_RELEASE_ID_SHORT)
        message(STATUS "ubuntu detected")
        SET(UBUNTU ON)
    ENDIF()
ENDIF()

# make this more general approach
#set(CMAKE_POSITION_INDEPENDENT_CODE ON CACHE BOOL "CMAKE_POSITION_INDEPENDENT_CODE")
#IF(DEFINED UBUNTU)
#    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
#    SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fPIC")
#ENDIF()

MESSAGE(STATUS "MSYS=${MSYS}")
MESSAGE(STATUS "CYGWIN=${CYGWIN}")
MESSAGE(STATUS "MINGW=${MINGW}")
MESSAGE(STATUS "WIN32=${WIN32}")
MESSAGE(STATUS "MSVC=${MSVC}")
MESSAGE(STATUS "UBUNTU=${UBUNTU}")